{"version":3,"sources":["shared/button.js","components/header.js","components/story.js","components/product.js","product_data.js","components/product-list.js","components/cart.js","App.js","reportWebVitals.js","index.js"],"names":["Button","styled","button","props","out_of_stock","CartButton","SearchButton","HeaderContainer","div","Header","state","useContext","AppContext","to","className","src","process","alt","cart","length","StoryContainer","Story","LeftButton","ProductContainer","Product","product","dispatch","name","replace","toLowerCase","maker","description","price","stock","onClick","type","item","disabled","products","sku_id","ProductListContainer","ProductList","useState","currentProducts","map","p","CardButton","DeleteButton","CartContainer","CartItem","Cart","cart_items","setCartItems","useEffect","sorted_cart_items","reduce","result","current_item","item_in_bag","find","count","push","sort","a","b","toFixed","GlobalStyle","createGlobalStyle","initialState","createContext","appReducer","action","removeIndex","indexOf","filter","_","index","Error","App","useReducer","value","Provider","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.da0f37f6.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nconst Button = styled.button`\n// initialize button design\n  background-color: transparent;\n  outline: none;\n  appearance: none;\n  border: none;\n  display: block;\n  text-align: center;\n  color: #ffffff;\n  background: ${(props) => (props.out_of_stock ? \"#A9A9A9\" : \"#3e3e3e\")};\n  border-radius: 8px;\n  padding: 0.1em;\n  font-size: 28px;\n  width: 88px;\n  height: 44px;\n  line-height: 44px;\n`;\n\nexport default Button;\n","import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { AppContext } from \"../App\";\nimport styled from \"styled-components\";\nimport Button from \"../shared/button\";\n\nconst CartButton = styled(Button)`\n  margin-right: 48px;\n  > img {\n    margin-right: 10px;\n  }\n`;\n\nconst SearchButton = styled(Button)`\n  width: 66px;\n`;\n\nconst HeaderContainer = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-top: 100px;\n\n  .wrapper {\n    display: flex;\n    flex-direction: row;\n  }\n\n  .title {\n    font-weight: 500;\n    font-size: 36px;\n    line-height: 20px;\n    color: #3e3e3e;\n    text-decoration: none;\n  }\n`;\n\nconst Header = () => {\n  const { state } = useContext(AppContext);\n\n  return (\n    <HeaderContainer>\n      <Link to=\"/\" className=\"title\">\n        Forest Sound\n      </Link>\n      <div className=\"wrapper\">\n        <Link to=\"/cart\">\n          <CartButton>\n            <img\n              src={`${process.env.PUBLIC_URL}/icon/cart.png`}\n              alt=\"cart\"\n              className=\"ml\"\n            />\n            <span className=\"stock-count-label\">{state.cart.length}</span>\n          </CartButton>\n        </Link>\n        <SearchButton>\n          <img\n            src={`${process.env.PUBLIC_URL}/icon/search.png`}\n            alt=\"delete item\"\n          />\n        </SearchButton>\n      </div>\n    </HeaderContainer>\n  );\n};\n\nexport default Header;\n","import styled from \"styled-components\";\n\nconst StoryContainer = styled.div`\n  margin-top: 100px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  .content {\n    padding-top: 20px;\n    padding-bottom: 20px;\n    margin-left: 26px;\n    .title {\n      font-size: 36px;\n      line-height: 20px;\n      margin-bottom: 10px;\n      letter-spacing: 0.03em;\n      color: #3e3e3e;\n    }\n    .sentence {\n      font-weight: 200;\n      font-size: 16px;\n      line-height: 20px;\n      margin-bottom: 30px;\n      letter-spacing: 0.05em;\n      color: #a9a9a9;\n    }\n  }\n`;\n\nconst Story = () => {\n  return (\n    <StoryContainer>\n      <img src={`${process.env.PUBLIC_URL}/image.png`} alt=\"ec site\" />\n      <div className=\"content\">\n        <div className=\"title\">Our Brand</div>\n        <div className=\"sentence\">\n          In the middle of Japan's high economic growth at 1980s, our Forest\n          Sound has been established. Forest Sound has a passion. \"Listen To The\n          Nature...\" which aims to coexisting with all lives.\n        </div>\n        <div className=\"title\">Our Product</div>\n        <div className=\"sentence\">\n          Our products have been born inspired by many accents of the nature\n          (color, taste, smell, etc...).\n        </div>\n        <div className=\"title\">Our Passion</div>\n        <div className=\"sentence\">\n          Nature bring people happiness. Forest Sound keeps delivering the good\n          parts of it. and/or, Forest Sound wants to show the values 'Less is\n          More' which is the anti-thesis of the today's mass consumption era.\n        </div>\n      </div>\n    </StoryContainer>\n  );\n};\n\nexport default Story;\n","import React, { useContext } from \"react\";\nimport { AppContext } from \"../App\";\nimport styled from \"styled-components\";\nimport Button from \"../shared/button\";\n\nconst LeftButton = styled(Button)`\n  margin-right: 12px;\n`;\n\nconst ProductContainer = styled.div`\n  text-align: left;\n  background-color: #fefefe;\n  width: 320px;\n\n  > div {\n    margin-top: 12px;\n  }\n\n  > img {\n    margin-top: 40px;\n  }\n\n  .name {\n    font-style: normal;\n    font-weight: 500;\n    font-size: 22px;\n    line-height: 20px;\n  }\n\n  .maker {\n    font-style: normal;\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 20px;\n    color: #a9a9a9;\n  }\n\n  .description {\n    font-style: normal;\n    font-weight: 300;\n    font-size: 12px;\n    line-height: 20px;\n    letter-spacing: 0.05em;\n    color: #a9a9a9;\n  }\n\n  .price {\n    font-style: normal;\n    font-weight: 500;\n    font-size: 20px;\n    line-height: 20px;\n    letter-spacing: -0.05em;\n    color: #a9a9a9;\n\n    .label {\n      letter-spacing: 0.1em;\n    }\n  }\n\n  .stock {\n    font-style: normal;\n    font-weight: 500;\n    font-size: 18px;\n    line-height: 20px;\n    letter-spacing: 0.05em;\n    color: #3e3e3e;\n    margin-top: 10px;\n\n    .label {\n      font-size: 12px;\n      line-height: 20px;\n      color: #a9a9a9;\n    }\n  }\n\n  .price-stock-wrapper {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .sub-menu-wrapper,\n  .button-wrapper {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n  }\n`;\n\nconst Product = ({ product }) => {\n  const { dispatch } = useContext(AppContext);\n\n  return (\n    <ProductContainer>\n      <img\n        src={`${process.env.PUBLIC_URL}/product_images/${product.name\n          .replace(/ /g, \"_\")\n          .toLowerCase()}.png`}\n        alt={product.name}\n      />\n      <div className=\"name\">{product.name}</div>\n      <div className=\"maker\">{product.maker}</div>\n      <div className=\"description\">{product.description}</div>\n      <div className=\"sub-menu-wrapper\">\n        <div className=\"price-stock-wrapper\">\n          <div className=\"price\">\n            <span className=\"label\">$</span>\n            {product.price}\n          </div>\n          <div className=\"stock\">\n            <span className=\"label\">stock: </span>\n            {product.stock}\n          </div>\n        </div>\n        <div className=\"button-wrapper\">\n          <LeftButton\n            onClick={() => {\n              dispatch({ type: \"REMOVE_ITEM_FROM_CART\", item: product });\n            }}\n            disabled={product.stock > 0 ? false : true}\n            out_of_stock={product.stock > 0 ? false : true}\n          >\n            <span className=\"button-label\">-</span>\n          </LeftButton>\n          <Button\n            onClick={() => {\n              dispatch({ type: \"ADD_ITEM_TO_CART\", item: product });\n            }}\n            disabled={product.stock > 0 ? false : true}\n            out_of_stock={product.stock > 0 ? false : true}\n          >\n            <span className=\"button-label\">+</span>\n          </Button>\n        </div>\n      </div>\n    </ProductContainer>\n  );\n};\n\nexport default Product;\n","const products = [\n  {\n    sku_id: 1,\n    name: \"Flower Speaker\",\n    description:\n      \"Bluetooth powered simple 'three-quarter in bloom' flower speaker. \",\n    maker: \"Forest Sound\",\n    price: 100,\n    stock: \"12\",\n  },\n  {\n    sku_id: 2,\n    name: \"Earth Keyboard\",\n    description:\n      \"A well-organized 'Earth'( 7 useful shortcut keys with 48-key + 160-level adjuster) keyboard.\",\n    maker: \"Forest Sound\",\n    price: 89,\n    stock: \"2\",\n  },\n  {\n    sku_id: 3,\n    name: \"Gray Earbuds\",\n    description:\n      \"A minimal earbuds pair with dyed ashy-gray. Bluetooth version.\",\n    maker: \"Forest Sound\",\n    price: 109,\n    stock: \"42\",\n  },\n  {\n    sku_id: 4,\n    name: \"Audio Book\",\n    description:\n      \"It contains 13 stories(musics, notes, etc). comes with 3 CDs.\",\n    maker: \"Forest Sound\",\n    price: 100,\n    stock: \"3\",\n  },\n  {\n    sku_id: 5,\n    name: \"Natural Earbuds\",\n    description: \"Inspired by Nature. Designed by us. Developed by human.\",\n    maker: \"Forest Sound\",\n    price: 79.00,\n    stock: \"0\",\n  },\n  {\n    sku_id: 6,\n    name: \"Sound Plant\",\n    description:\n      \"Grows up with sound. Blooms with music...\",\n    maker: \"Sony\",\n    price: 20,\n    stock: \"10\",\n  },\n];\n\nexport default products;\n","import React, { useState } from \"react\";\nimport Product from \"./product\";\nimport styled from \"styled-components\";\n\nimport products from '../product_data'\n\nconst ProductListContainer = styled.div`\n  margin-top: 100px;\n\n  .title {\n    text-align: center;\n    font-weight: 500;\n    font-size: 28px;\n    line-height: 20px;\n  }\n\n  .product-list {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: space-between;\n  }\n`;\n\nconst ProductList = () => {\n  const [currentProducts] = useState(products);\n\n  return (\n    <ProductListContainer>\n      <div className=\"title\">Products</div>\n      <div className=\"product-list\">\n        {currentProducts.map((p) => (\n          <Product product={p} key={p.sku_id} />\n        ))}\n      </div>\n    </ProductListContainer>\n  );\n};\n\nexport default ProductList;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { AppContext } from \"../App\";\nimport Button from \"../shared/button\";\n\nconst CardButton = styled(Button)`\n  width: 44px;\n  height: 44px;\n  margin-right: 16px;\n`;\n\nconst DeleteButton = styled(CardButton)`\n  background: #f2f2f2;\n`;\n\nconst CartContainer = styled.div`\n  margin-top: 100px;\n\n  .title {\n    text-align: center;\n    font-weight: 500;\n    font-size: 28px;\n    line-height: 20px;\n    margin-bottom: 16px;\n  }\n\n  .cart-description {\n    text-align: center;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 18px;\n    line-height: 20px;\n    letter-spacing: 0.05em;\n    color: #a9a9a9;\n    margin-bottom: 36px;\n  }\n`;\n\nconst CartItem = styled.div`\n  // body\n  width: 1000px;\n  height: 120px;\n  background: #ffffff;\n  // appearance\n  box-shadow: 0px 6px 12px rgba(62, 62, 62, 0.1);\n  border-radius: 8px;\n  // margin\n  margin-bottom: 48px;\n\n  .wrapper {\n    margin-top: 20px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    .card-img {\n      margin-top: 20px;\n      margin-left: 48px;\n      width: 120px;\n      height: 80px;\n    }\n    .text-wrapper {\n      display: flex;\n      flex-direction: column;\n      width: 200px;\n      margin-top: 20px;\n      margin-left: 16px;\n\n      .card-title {\n        font-style: normal;\n        font-weight: 500;\n        font-size: 22px;\n        line-height: 20px;\n        color: #3e3e3e;\n        margin-bottom: 16px;\n      }\n      .card-maker {\n        font-style: normal;\n        font-weight: 500;\n        font-size: 16px;\n        line-height: 20px;\n        color: #a9a9a9;\n      }\n    }\n    .button-wrapper,\n    .subtotal-wrapper {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      width: 180px;\n      margin-top: 20px;\n\n      .stock {\n        width: 44px;\n        height: 44px;\n        margin-right: 16px;\n        background: #ffffff;\n        border: 1px solid #f2f2f2;\n        box-sizing: border-box;\n        border-radius: 8px;\n        line-height: 44px;\n        text-align: center;\n      }\n\n      .subtotal {\n        margin-top: 15px;\n        font-weight: 500;\n        font-size: 16px;\n        line-height: 20px;\n        letter-spacing: -0.05em;\n        color: #a9a9a9;\n      }\n    }\n  }\n`;\n\nconst Cart = () => {\n  const { state } = useContext(AppContext);\n  const [cart_items, setCartItems] = useState([]);\n  const { dispatch } = useContext(AppContext);\n\n  useEffect(() => {\n    // state.cartが変更される場合にcartの中身から、CartItemで表示させるために集計をする。\n    // cartからitemを抜き出し、\n    const aggregated_cart_items = state.cart.reduce((result, current_item) => {\n      const item_in_bag = result.find(\n        (item) => item.sku_id === current_item.sku_id\n      );\n      // cartからsku_idの一致するitemが存在する場合、countを増やす\n      if (item_in_bag) {\n        item_in_bag.count++;\n      } else {\n        // cartからsku_idの一致するitemが存在しない場合、新しくエントリーを作成する\n        result.push({\n          sku_id: current_item.sku_id,\n          count: 1,\n          name: current_item.name,\n          maker: current_item.maker,\n          price: current_item.price,\n        });\n      }\n      return result;\n    }, []);\n\n    // cartに含まれるitemに依存する並びになってしまうので、sku_idの昇順にソートすることで、\n    // cartの商品に依存せずに集計結果を表示できる\n    const sorted_cart_items = aggregated_cart_items.sort((a, b) => {\n      return a.sku_id < b.sku_id ? 1 : -1;\n    });\n\n    // ローカルなcart_itemsを更新する\n    setCartItems(sorted_cart_items);\n  }, [state.cart]);\n\n  return (\n    <CartContainer>\n      <div className=\"title\">Shopping Cart</div>\n      <div className=\"cart-description\">\n        You have {state.cart.length} items in your cart.\n      </div>\n      {cart_items.map((item) => (\n        <CartItem key={item.sku_id}>\n          <div className=\"wrapper\">\n            <img\n              className=\"card-img\"\n              src={`${\n                process.env.PUBLIC_URL\n              }/product_images/${item.name\n                .replace(/ /g, \"_\")\n                .toLowerCase()}.png`}\n              alt={item.name}\n            />\n            <div className=\"text-wrapper\">\n              <div className=\"card-title\">{item.name}</div>\n              <div className=\"card-maker\">{item.maker}</div>\n            </div>\n            <div className=\"button-wrapper\">\n              <CardButton\n                onClick={() => {\n                  dispatch({ type: \"REMOVE_ITEM_FROM_CART\", item: item });\n                }}\n              >\n                -\n              </CardButton>\n              <div className=\"stock\">{item.count}</div>\n              <CardButton\n                onClick={() => {\n                  dispatch({ type: \"ADD_ITEM_TO_CART\", item: item });\n                }}\n              >\n                +\n              </CardButton>\n            </div>\n            <div className=\"subtotal-wrapper\">\n              <div className=\"subtotal\">\n                ${(item.count * item.price).toFixed(2)}\n              </div>\n              <DeleteButton>\n                <img\n                  src={`${process.env.PUBLIC_URL}/icon/delete.png`}\n                  alt=\"delete item\"\n                />\n              </DeleteButton>\n            </div>\n          </div>\n        </CartItem>\n      ))}\n    </CartContainer>\n  );\n};\n\nexport default Cart;\n","import React, { createContext, useReducer, Fragment } from \"react\";\nimport { BrowserRouter, Switch, Route} from \"react-router-dom\";\nimport Header from \"./components/header\";\nimport Story from \"./components/story\";\nimport ProductList from \"./components/product-list\";\nimport Cart from \"./components/cart\";\nimport { createGlobalStyle } from \"styled-components\";\n\nconst GlobalStyle = createGlobalStyle`\n@import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');\nbody {\n  font-family: 'Roboto', sans-serif;\n  color: #3E3E3E;\n  background: #FFFFFF;\n  width: 1024px;\n  margin: 0 auto;\n}`;\n\nconst initialState = {\n  cart: [],\n};\n\nexport const AppContext = createContext();\n\nconst appReducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD_ITEM_TO_CART\": {\n      return {\n        cart: [\n          ...state.cart,\n          // 必要な情報をもたせたオブジェクトを追加していく。\n          // 同一である場合でも格納してしまうので別の仕組みがいいかも。\n          {\n            sku_id: action.item.sku_id,\n            name: action.item.name,\n            maker: action.item.maker,\n            price: action.item.price,\n          },\n        ],\n      };\n    }\n    case \"REMOVE_ITEM_FROM_CART\": {\n      // 同一のsku_idを持つcartのitemを探し、最初のindexを返す\n      const removeIndex = state.cart\n        .map((item) => item.sku_id)\n        .indexOf(action.item.sku_id);\n\n      // 同一itemのindex以外で新しいカートを作成する\n      let newCart = state.cart.filter((_, index) => index !== removeIndex);\n\n      return {\n        cart: newCart,\n      };\n    }\n    default: {\n      throw new Error(`Unhandled action type: ${action.type}`);\n    }\n  }\n};\n\nconst App = () => {\n  const [state, dispatch] = useReducer(appReducer, initialState);\n  const value = {\n    state,\n    dispatch,\n  };\n\n  return (\n    <Fragment>\n      <GlobalStyle />\n      <AppContext.Provider value={value}>\n        <BrowserRouter>\n          <Header />\n          <Switch>\n            <Route exact path=\"/\">\n              <Story />\n              <ProductList />\n            </Route>\n            <Route path=\"/cart\">\n              <Cart />\n            </Route>\n          </Switch>\n        </BrowserRouter>\n      </AppContext.Provider>\n    </Fragment>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}